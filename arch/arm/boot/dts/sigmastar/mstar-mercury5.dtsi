// SPDX-License-Identifier: GPL-2.0-or-later
/*
 * Copyright (c) 2020 thingy.jp.
 * Author: Daniel Palmer <daniel@thingy.jp>
 */

#include "mstar-v7.dtsi"

/ {
	cpu0_opp_table: opp_table0 {
		compatible = "operating-points-v2";
		opp-shared;

		opp-100000000 {
			opp-hz = /bits/ 64 <100000000>;
			opp-microvolt = <800000 800000 850000>;
			clock-latency-ns = <300000>;
		};

		opp-200000000 {
			opp-hz = /bits/ 64 <200000000>;
			opp-microvolt = <850000 850000 880000>;
			clock-latency-ns = <300000>;
		};

		opp-400000000 {
			opp-hz = /bits/ 64 <400000000>;
			opp-microvolt = <880000 880000 890000>;
			clock-latency-ns = <300000>;
		};
		opp-600000000 {
			opp-hz = /bits/ 64 <600000000>;
			opp-microvolt = <900000 900000 1000000>;
			clock-latency-ns = <300000>;
		};

		opp-800000000 {
			opp-hz = /bits/ 64 <800000000>;
			opp-microvolt = <900000 900000 1000000>;
			clock-latency-ns = <300000>;
		};
	};
};

&soc {
	sd: sd@1f282600 {
		compatible = "mstar,msc313-sdio";
		reg = <0x1f282600 0x200>;
		no-1-8-v;
		cap-sd-highspeed;
		bus-width = <4>;
		clocks = <&clkgen_mux_sdio 0>;
		interrupts-extended = <&intc_irq 60 IRQ_TYPE_LEVEL_HIGH>;
		pinctrl-names = "default";
		pinctrl-0 = <&sdio_pins>;
		status = "disabled";
	};
};

&imi {
	reg = <0xa0000000 0x20000>;
};

&utmi0 {
	reg = <0x1f004400 0x80>;
};

&usbc0 {
	reg = <0x1f004800 0x20>;
};

&uhc0 {
	reg = <0x1f004a00 0x200>;
	interrupts-extended = <&intc_irq 14 IRQ_TYPE_LEVEL_HIGH>;
};

&gpio_pm {
	interrupt-names = "pm_spi_do", "pm_sd_sdz";
	interrupts-extended = <&gpio_pm 0 29 IRQ_TYPE_LEVEL_HIGH>;
			      /*<&intc_fiq 23 IRQ_TYPE_LEVEL_HIGH>;*/
};

&miu {
	compatible = "mstar,ssc8336-miu";
};
