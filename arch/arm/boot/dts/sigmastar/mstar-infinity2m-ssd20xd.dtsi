// SPDX-License-Identifier: GPL-2.0-or-later
/*
 * Copyright (c) 2020 thingy.jp.
 * Author: Daniel Palmer <daniel@thingy.jp>
 */

#include <dt-bindings/gpio/msc313-gpio-pm.h>
#include <dt-bindings/pinctrl/mstar.h>

#include "mstar-infinity2m.dtsi"

&gpio {
	compatible = "sstar,ssd20xd-gpio";
	status = "okay";
};

&gpio_pm {
	compatible = "sstar,ssd20xd-gpio-pm";
	gpio-ranges = <&pinctrl_pm SSD20XD_PM_IRIN PIN_SSD20XD_PM_IRIN 1>,
		      <&pinctrl_pm SSD20XD_PM_SD_CDZ PIN_SSD20XD_PM_SD_CDZ 1>,
		      <&pinctrl_pm SSD20XD_PM_LED0 PIN_SSD20XD_PM_LED0 1>,
		      <&pinctrl_pm SSD20XD_PM_LED0 PIN_SSD20XD_PM_LED1 1>;
	/*interrupts-extended = <&intc_fiq GIC_SPI 23 IRQ_TYPE_LEVEL_HIGH>;*/
	status = "okay";
};

&smpctrl {
	compatible = "sstar,ssd201-smpctrl", "mstar,smpctrl";
	status = "okay";
};

&pinctrl {
	compatible = "sstar,ssd20xd-pinctrl";
	ttl_mode1_pins: ttl_mode1 {
		function = "ttl";
		groups = "ttl_mode1";
	};
	tx_mipi_mode1_pins: tx_mipi_mode1 {
		function = "tx_mipi";
		groups = "tx_mipi_mode1";
	};
	tx_mipi_mode2_pins: tx_mipi_mode2 {
		function = "tx_mipi";
		groups = "tx_mipi_mode2";
	};
};

&pinctrl_pm {
	compatible = "sstar,ssd20xd-pm-pinctrl";
	pm_led_mode1_pins: pm_led_mode1 {
		function = "pm_led";
		groups = "pm_led_mode1";
	};
};
